<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Makikuna - learning tool</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

    <!-- Custom styles for this template -->
    <link href="css/freelancer.css" rel="stylesheet">

    <script src="leap-0.6.4.min.js"></script>
  </head>

  <body id="page-top">

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
      <div class="container">
        <img src="img/title_crp.png" class="navbar-brand js-scroll-trigger" href="#page-top" style="width:195px;"/>
        <!-- <a class="navbar-brand js-scroll-trigger" href="#page-top">Learn with hands</a> -->
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          Menu
          <i class="fa fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#portfolio">Learn</a>
            </li>
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="#about">About</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Header -->
    <header class="masthead">
      <div class="container">
        <img class="img-fluid" src="img/profile.png" alt="">
        <div class="intro-text">
          <span class="name">Don't just learn - involve</span>
          <hr class="star-light">
          <span class="skills">Physical aid to learn, teach and understand</span>
        </div>
      </div>
    </header>

    <!-- Portfolio Grid Section -->
    <section id="portfolio">
      <div class="container">
        <h2 class="text-center">Learn</h2>
        <hr class="star-primary">
        <div class="row">
          <div class="col-sm-4 portfolio-item" id="trigger-asking-questions">
            <a class="portfolio-link" href="#mathportfolio-modal" data-toggle="modal">
              <div class="caption">
                <div class="caption-content">
                  <i class="fa fa-calculator fa-3x"><h4>Math</h4></i>
                </div>
              </div>
              <img class="img-fluid" src="img/portfolio/cabin.png" alt="">
            </a>
          </div>
          <div class="col-sm-4 portfolio-item">
            <a class="portfolio-link" href="#portfolioModal2" data-toggle="modal">
              <div class="caption">
                <div class="caption-content">
                  <i class="fa fa-sign-language fa-3x"><h4>Sign Language</h4></i>
                </div>
              </div>
              <img class="img-fluid" src="img/portfolio/cake.png" alt="">
            </a>
          </div>
          <div class="col-sm-4 portfolio-item">
            <a class="portfolio-link" href="#portfolioModal3" data-toggle="modal">
              <div class="caption">
                <div class="caption-content">
                  <i class="fa fa-search-plus fa-3x"></i>
                </div>
              </div>
              <img class="img-fluid" src="img/portfolio/circus.png" alt="">
            </a>
          </div>
          <div class="col-sm-4 portfolio-item">
            <a class="portfolio-link" href="#portfolioModal4" data-toggle="modal">
              <div class="caption">
                <div class="caption-content">
                  <i class="fa fa-search-plus fa-3x"></i>
                </div>
              </div>
              <img class="img-fluid" src="img/portfolio/game.png" alt="">
            </a>
          </div>
          <div class="col-sm-4 portfolio-item">
            <a class="portfolio-link" href="#portfolioModal5" data-toggle="modal">
              <div class="caption">
                <div class="caption-content">
                  <i class="fa fa-search-plus fa-3x"></i>
                </div>
              </div>
              <img class="img-fluid" src="img/portfolio/safe.png" alt="">
            </a>
          </div>
          <div class="col-sm-4 portfolio-item">
            <a class="portfolio-link" href="#portfolioModal6" data-toggle="modal">
              <div class="caption">
                <div class="caption-content">
                  <i class="fa fa-search-plus fa-3x"></i>
                </div>
              </div>
              <img class="img-fluid" src="img/portfolio/submarine.png" alt="">
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Portfolio Modals -->
    <div class="portfolio-modal modal fade" id="mathportfolio-modal" tabindex="-1" role="dialog" aria-hidden="true" style="padding:16px;">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="close-modal" id="close-modal-button" data-dismiss="modal">
            <div class="lr">
              <div class="rl"></div>
            </div>
          </div>
          <div class="container">
            <div class="row">
              <div class="col-lg-8 mx-auto">
                <div class="modal-body">
                  <h4>Solve the problem</h4>
                  <hr class="star-primary">
                  <p>Using hand guestures solve the given problem</p>

                  <section id="math_answer_section">
                    <div class="container">
                      <div class="row">
                        <div class="col-lg-8 mx-auto">
                          <!-- To configure the contact form email address, go to mail/contact_me.php and update the email address in the PHP file on line 19. -->
                          <!-- The form should work on most web servers, but if the form is not working you may need to configure your web server differently. -->
                          <form >
                            <div class="row">
                              <div class="col-lg-4">
                                <div class="control-group">
                                  <h2 id="num1"></h2>
                                </div>
                              </div>
                              <div class="col-lg-4">
                                <h2 id="num_operator">+</h2>
                              </div>
                              <div class="col-lg-4">
                                <h2 id="num2"></h2>
                              </div>
                            </div>
                            <br>
                            <!-- Toast Section -->
                            <div class="bootstrap-alert-section">
                              <div class="page-alerts">
                                  <div class="alert alert-success page-alert correct-answer" id="alert-1">
                                      <button type="button" class="close"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
                                      <strong>Well done!</strong> You successfully solved the problem.
                                  </div>
                                  <div class="alert alert-danger page-alert wrong-answer" id="alert-4">
                                      <button type="button" class="close"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
                                      <strong>Oh snap!</strong> You got it wrong. No problem, try again.
                                  </div>
                              </div>
                            </div>
                            <div class="control-group">
                              <div class="form-group floating-label-form-group controls">
                                <label>Answer</label>
                                <input class="form-control" id="math_answer" type="number" placeholder="Answer" autofocus required data-validation-required-message="Please enter proper answer.">
                                <p class="help-block text-danger"></p>
                              </div>
                            </div>
                            <br>
                            <div class="form-group">
                              <button class="btn btn-success btn-lg " id="sendMathAnswer" style="display:none;">Send</button>
                            </div>
                          </form>

                        </div>
                      </div>
                    </div>
                  </section>

                  <!-- <button class="btn btn-success" type="button" data-dismiss="modal">
                    <i class="fa fa-times"></i>
                    Close</button> -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- About Section -->
    <section class="success" id="about">
      <div class="container">
        <h2 class="text-center">About</h2>
        <hr class="star-light">
        <div class="row">
          <div class="col-lg-4 ml-auto">
            <p>Freelancer is a free bootstrap theme created by Start Bootstrap. The download includes the complete source files including HTML, CSS, and JavaScript as well as optional LESS stylesheets for easy customization.</p>
          </div>
          <div class="col-lg-4 mr-auto">
            <p>Whether you're a student looking to showcase your work, a professional looking to attract clients, or a graphic artist looking to share your projects, this template is the perfect starting point!</p>
          </div>
          <div class="col-lg-8 mx-auto text-center">
            <a href="#" class="btn btn-lg btn-outline">
              <i class="fa fa-download"></i>
              Download Theme
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="text-center">
      <div class="footer-above">
        <div class="container">
          <div class="row">

          </div>
        </div>
      </div>
      <div class="footer-below">
        <div class="container">
          <div class="row">
            <div class="col-lg-12">
              Copyright &copy; Your Website 2017
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
    <div class="scroll-top d-lg-none">
      <a class="btn btn-primary js-scroll-trigger" href="#page-top">
        <i class="fa fa-chevron-up"></i>
      </a>
    </div>

    <!-- Leep Motion stats -->
    <div class="leep_motion_stats">
      <h1>Leap JavaScript Sample</h1>

      <p>Framerate: <span id="leapFPS">FPS</span></p>
      <p>Number of hands: <span id="handCount">Hands</span></p>
      <p>Number of pointables: <span id="pointableCount">Pointables</span></p>
      <p>Number of tools: <span id="toolCount">Tools</span></p>
      <p>Number of fingers: <span id="fingerCount">Fingers</span></p>
      <p>Number of gestures: <span id="gestureCount">Gestures</span></p>

      <br><br><br><br><br><br><br>

      <p>Number of fingers held up: <span id="fingerNumber">0</span></p>
      <p>finger 1: <span id="fingerOne">0</span></p>
      <p>finger 2: <span id="fingerTwo">0</span></p>
      <p>finger 3: <span id="fingerThree">0</span></p>
      <p>finger 4: <span id="fingerFour">0</span></p>
      <p>finger 5: <span id="fingerFive">0</span></p>

      <br><br><br><br><br><br>

      <p>Total Number Entered So Far: <span id="fingerTotal">0</span></p>
    </div>


    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script>

    <!-- Custom scripts for this template -->
    <script src="js/freelancer.js"></script>

    <!-- Custom scripts for random numbers -->
    <script src="js/randomNumbers.js"></script>

    <script>
      var controller = new Leap.Controller({
        enableGestures: true,
        frameEventName: 'animationFrame'
      });

      var fpsDisplay = document.getElementById('leapFPS');
      var handCountDisplay = document.getElementById('handCount');
      var pointableCountDisplay = document.getElementById('pointableCount');
      var fingerCountDisplay = document.getElementById('fingerCount');
      var toolCountDisplay = document.getElementById('toolCount');
      var gestureCountDisplay = document.getElementById('gestureCount');

      var extendFingDisplay = document.getElementById('fingerNumber');
      var extendedFingers = 0;

      //idc
      var allFingers = [];
      allFingers.push(document.getElementById('fingerOne'));
      allFingers.push(document.getElementById('fingerTwo'));
      allFingers.push(document.getElementById('fingerThree'));
      allFingers.push(document.getElementById('fingerFour'));
      allFingers.push(document.getElementById('fingerFive'));

      var fingerTot = document.getElementById('fingerTotal');
      var numIterations = 0;
      var numDigits = 0;//max 3 digits

      controller.on('frame', function(frame) {
        fpsDisplay.innerText = frame.currentFrameRate;
        handCountDisplay.innerText = frame.hands.length;
        pointableCountDisplay.innerText = frame.pointables.length;
        fingerCountDisplay.innerText = frame.fingers.length;
        toolCountDisplay.innerText = frame.tools.length;
        gestureCountDisplay.innerText = frame.gestures.length;

        var hand = frame.hands[0];

        //store average value of hands only after iterating a certain number of times

        //if there is a hand detected
        if (hand != undefined) {

          for (var f = 0; f < hand.fingers.length; f++) {
              allFingers[f].innerText = 0;
          }

          var finger = hand.fingers[0];
          extendedFingers = 0;

          //count total number of fingers and keep track of individual fingers
          for (var f = 0; f < hand.fingers.length; f++) {
            var finger = hand.fingers[f];
            if (finger.extended) {

              allFingers[f].innerText = 1;
              extendedFingers++;
            }

            numIterations++;
          }
          extendFingDisplay.innerText = extendedFingers;

          //if fingers changed, prepare to add a digit
          if(numIterations >= frame.currentFrameRate*2) {
            fingerTot.innerHTML = fingerTot.innerHTML*10 + extendedFingers;
            numIterations = 0;
            numDigits++;
          }

          if(numDigits >= 3){
            $("#math_answer").val(fingerTot.innerHTML);
            //sendFinalAnswer(fingerTot.innerHTML);//replace with real function
            numDigits = 0;
          }
        }
      });
      controller.connect();
    </script>
  </body>

</html>
